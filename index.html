<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AEO Analyzer MVP</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Poppins:wght@300;500&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; background: #f0f4f8; color: #333; line-height: 1.6; }
        header { background: #007bff; color: white; padding: 15px 0; text-align: center; }
        header nav { display: flex; justify-content: center; gap: 20px; }
        header a { color: white; text-decoration: none; font-family: 'Montserrat', sans-serif; }
        .hero { text-align: center; padding: 40px 20px; background: #e9ecef; border-radius: 8px; margin-bottom: 30px; }
        .hero h1 { font-size: 2.5em; margin-bottom: 10px; }
        .hero p { font-size: 1.2em; }
        .hero button { font-size: 1.2em; padding: 15px 30px; }
        h1, h2, h3 { font-family: 'Montserrat', sans-serif; color: #007bff; }
        .steps { display: flex; justify-content: space-between; margin-bottom: 30px; }
        .step { flex: 1; text-align: center; padding: 10px; background: #e9ecef; border-radius: 5px; margin: 0 10px; font-family: 'Montserrat', sans-serif; }
        .step.active { background: #007bff !important; color: white !important; }
        .section { background: white; padding: 20px; margin-bottom: 20px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); position: relative; transition: transform 0.3s; }
        .section:hover { transform: translateY(-5px); }
        .sticky { position: sticky; top: 0; z-index: 10; background: #fff; border-bottom: 2px solid #007bff; }
        input[type="text"] { width: 100%; padding: 12px; margin-bottom: 15px; border: 1px solid #ddd; border-radius: 5px; font-family: 'Poppins', sans-serif; }
        button { padding: 12px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; margin: 10px 0; font-family: 'Montserrat', sans-serif; }
        button:hover { background: #0056b3; }
        .success { color: #28a745; font-weight: bold; }
        .error { color: #dc3545; font-weight: bold; }
        .warn { color: #ffc107; font-weight: bold; font-size: 0.6em; } /* Reduced by 40% assuming base 1em */
        .hidden { display: none; }
        .credits { position: absolute; top: 20px; right: 20px; font-weight: bold; font-family: 'Poppins', sans-serif; }
        .progress { text-align: center; margin: 10px 0; }
        .score-container { position: relative; background: linear-gradient(to right, #dc3545, #ffc107, #28a745); height: 20px; border-radius: 5px; overflow: hidden; margin: 10px 0; }
        .score-fill { background: transparent; height: 100%; transition: width 0.5s; }
        .average-tick { position: absolute; top: 0; bottom: 0; width: 2px; background: #333; left: 52%; }
        .average-label { position: absolute; top: 25px; left: 52%; transform: translateX(-50%); font-size: 12px; color: #333; }
        .summary { padding: 15px; border-radius: 5px; margin: 20px 0; font-family: 'Poppins', sans-serif; }
        .summary.good { background: #e8f5e9; color: #28a745; }
        .summary.ok { background: #fff3e0; color: #f57c00; }
        .summary.bad { background: #ffe5e5; color: #dc3545; }
        .action-group { margin-bottom: 15px; }
        .action-group h4 { margin-bottom: 5px; }
        .faq { margin-top: 40px; }
        .faq details { margin-bottom: 10px; border-bottom: 1px solid #ddd; }
        .faq summary { cursor: pointer; font-weight: bold; font-family: 'Montserrat', sans-serif; }
        footer { text-align: center; padding: 20px 0; background: #007bff; color: white; margin-top: 40px; }
        footer a { color: white; text-decoration: none; margin: 0 10px; }
        .cta { text-align: center; margin: 20px 0; }
        .cta button { background: #28a745; }
        .cta button:hover { background: #218838; }
    </style>
</head>
<body>
    <header>
        <nav>
            <a href="#">Home</a>
            <a href="#">About AEO</a>
            <a href="#">Pricing</a>
            <a href="#">Contact</a>
        </nav>
    </header>

    <section class="hero">
        <h1>Unlock Your AI Search Potential</h1>
        <p>Get your AEO Score in minutes and dominate rankings with actionable insights.</p>
        <button onclick="scrollToAnalyzer()">Start Free Analysis</button>
    </section>

    <div class="credits">Credits: <span id="credits">0</span>*</div>
    <h1 id="analyzer">AEO Analyzer</h1>
    
    <div class="steps">
        <div class="step active" id="step1">1 Verify Website</div>
        <div class="step" id="step2">2 Choose Plan</div>
        <div class="step" id="step3">3 Get Results</div>
    </div>

    <div id="verifySection" class="section">
        <h2>Step 1 - We need to verify if your site is blocked with anti-bot blockers.</h2>
        <p>Some websites have anti-bot protection that prevents automated analysis. We'll check your site's accessibility first to ensure you get the best experience.</p>
        <label for="urlInput">Enter Your Website URL</label>
        <input type="text" id="urlInput" placeholder="https://example.com" value="https://example.com">
        <p class="warn">Include http:// or https:// for best results.</p>
        <button onclick="checkCompatibility()">Check Website Compatibility</button>
        <div id="loading" class="progress hidden">Checking website accessibility...</div>
        <div id="verifyResult"></div>
    </div>

    <div id="planSection" class="section hidden">
        <h2>Choose Your Analysis Option</h2>
        <!-- Content will be populated based on verification -->
    </div>

    <div id="resultsSection" class="section hidden">
        <h2>Website Analyzed: <span id="analyzedUrl"></span></h2>
        <div class="score-container">
            <div class="score-fill" id="scoreFill"></div>
            <div class="average-tick"></div>
        </div>
        <div class="average-label">Average Score (52)</div>
        <h3>Overall AEO Score: <span id="overallScore">--</span></h3>
        <div class="section sticky">
            <h3>AEO Score Comparison</h3>
            <p>Your Score: <span id="yourScore">--</span></p>
            <p>Poor (0-40) | Average: 52 | Top 10%: 85 | Excellent (71-100)</p>
        </div>
        <div class="section">
            <h3>Content Structure</h3>
            <p id="contentStructure">--</p>
        </div>
        <div class="section">
            <h3>Technical SEO</h3>
            <p id="technicalSEO">--</p>
        </div>
        <div class="section">
            <h3>Authority & AI Signals</h3>
            <p id="authorityAI">--</p>
        </div>
        <div class="summary" id="summaryMessage">
            <h3 id="summaryTitle"></h3>
            <p id="summaryText"></p>
        </div>
        <h3>Prioritized Action Items</h3>
        <div id="actionItems">
            <!-- Populated by JS -->
        </div>
        <p>Credits Remaining: <span id="remainingCredits">9</span></p>
        <button onclick="analyzeAnother()">Analyze Another Website</button>
        <div class="cta">
            <button onclick="shareResults()">Share Your Results</button>
            <button onclick="upgradePro()">Upgrade to Pro for Unlimited</button>
        </div>
    </div>

    <div id="noCreditsSection" class="section hidden">
        <h2>🚨 You're Out of Analysis Credits!</h2>
        <p>You've used all your analysis credits. Purchase another package to continue analyzing websites and growing your AI search visibility!</p>
        <button onclick="refillCredits()">Refill Credits $9.99 (Get 10 more)</button>
    </div>

    <section class="faq">
        <h2>FAQ & Explainer</h2>
        <details>
            <summary>What is AEO?</summary>
            <p>AEO stands for AI Engine Optimization, focusing on optimizing for AI-driven search like Grok or ChatGPT integrations.</p>
        </details>
        <details>
            <summary>How does the scoring work?</summary>
            <p>We've developed our "Super 7" scoring system to assess your sites strengths in seven categories: Content Structure, Crawlability, Schema, Authority, Semantic Relevance, Performance, and AI Model Signals. For your instant analysis we've distilled these into 3 focus areas: Content Structure, Technical SEO, and Authority & AI Signals.</p>
        </details>
        <details>
            <summary>Why do I need credits?</summary>
            <p>We use a proprietary mix of tools and AI to assess websites AEO score. Every assessment uses valuable compute resources, so a purchased credit system allows us to do this, and gives you up to 10 assessments so you can compare your score to your competitors.</p>
        </details>
    </section>

    <footer>
        <p>© 2025 AEO Analyzer. All rights reserved.</p>
        <a href="#">Privacy Policy</a>
        <a href="#">Terms of Service</a>
        <a href="#">Contact Us</a>
    </footer>

    <script>
        let credits = 0; // Start with 0 for MVP
        let currentUrl = '';
        document.getElementById('credits').textContent = credits;
        document.getElementById('step1').classList.add('active');

        function scrollToAnalyzer() {
            document.getElementById('analyzer').scrollIntoView({ behavior: 'smooth' });
        }

        async function checkCompatibility() {
            currentUrl = document.getElementById('urlInput').value.trim();
            if (!currentUrl) return showError('verifyResult', 'Please enter a URL.');

            if (!currentUrl.startsWith('http://') && !currentUrl.startsWith('https://')) currentUrl = 'https://' + currentUrl;

            document.getElementById('loading').classList.remove('hidden');
            const proxyUrl = 'https://cors-anywhere.com/' + currentUrl;

            try {
                const response = await fetch(proxyUrl);
                document.getElementById('loading').classList.add('hidden');

                if (response.ok) {
                    showSuccess('verifyResult', 'Great! Your Website Can Be Analyzed', 'Your site is accessible for instant automated analysis');
                    document.getElementById('planSection').innerHTML = `
                        <p>You can proceed with instant analysis:</p>
                        <h3>Automated Analysis $9.99</h3>
                        <p>Get 10 analysis credits for instant AEO scoring and recommendations</p>
                        <button onclick="proceedToAnalysis(true)">Get Instant Analysis</button>
                    `;
                } else {
                    showError('verifyResult', 'This website uses advanced security that prevents automated analysis.');
                    document.getElementById('planSection').innerHTML = `
                        <p>Choose your preferred option:</p>
                        <h3>Premium Manual Analysis $49</h3>
                        <p>Expert analysis with detailed PDF report delivered via email within 15-20 minutes</p>
                        <button onclick="proceedToAnalysis(false)">Get Expert Analysis</button>
                        <button onclick="tryDifferent()">Try Different Website</button>
                    `;
                }
                document.getElementById('verifySection').classList.add('hidden');
                document.getElementById('planSection').classList.remove('hidden');
                document.getElementById('step2').classList.add('active');
            } catch (error) {
                document.getElementById('loading').classList.add('hidden');
                showError('verifyResult', 'Error checking accessibility – assuming blocked: ' + error.message);
                // Fallback to manual option on error
                document.getElementById('planSection').innerHTML = `
                    <p>Unable to automatically check – choose manual analysis or try later:</p>
                    <h3>Premium Manual Analysis $49</h3>
                    <p>Expert analysis with detailed PDF report delivered via email within 15-20 minutes</p>
                    <button onclick="proceedToAnalysis(false)">Get Expert Analysis</button>
                    <button onclick="tryDifferent()">Try Different Website</button>
                `;
                document.getElementById('verifySection').classList.add('hidden');
                document.getElementById('planSection').classList.remove('hidden');
                document.getElementById('step2').classList.add('active');
            }
        }

        function showSuccess(id, title, message) {
            document.getElementById(id).innerHTML = `<p class="success">✅ ${title}</p><p>${message}</p>`;
        }

        function showError(id, message) {
            document.getElementById(id).innerHTML = `<p class="error">${message}</p>`;
        }

        async function proceedToAnalysis(isAutomated) {
            if (credits <= 0) {
                document.getElementById('noCreditsSection').classList.remove('hidden');
                return;
            }

            credits--;
            document.getElementById('credits').textContent = credits;
            document.getElementById('remainingCredits').textContent = credits;

            const proxyUrl = 'https://cors-anywhere.com/' + currentUrl;
            try {
                const response = await fetch(proxyUrl);
                const html = await response.text();
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');

                const score = Math.floor(Math.random() * 100) + 1;
                document.getElementById('analyzedUrl').textContent = currentUrl;
                document.getElementById('overallScore').textContent = score;
                document.getElementById('yourScore').textContent = score;
                document.getElementById('scoreFill').style.width = `${score}%`;
                document.getElementById('contentStructure').textContent = 'Analysis: ' + (doc.querySelectorAll('h1,h2,h3').length > 5 ? 'Good structure' : 'Needs more headings');
                document.getElementById('technicalSEO').textContent = 'Meta tags: ' + (doc.querySelector('meta[name="description"]') ? 'Present' : 'Missing');
                document.getElementById('authorityAI').textContent = 'Links: ' + doc.querySelectorAll('a').length + ' found';

                // Dynamic summary based on score
                const summaryDiv = document.getElementById('summaryMessage');
                summaryDiv.className = 'summary'; // Reset classes
                const summaryTitle = document.getElementById('summaryTitle');
                const summaryText = document.getElementById('summaryText');
                if (score >= 80) {
                    summaryDiv.classList.add('good');
                    summaryTitle.textContent = '🎉 Awesome Job!';
                    summaryText.textContent = `Your website scored ${score}/100 – that's top-tier! Keep building on this strong foundation with a few tweaks to reach perfection and stay ahead of the curve.`;
                } else if (score >= 50) {
                    summaryDiv.classList.add('ok');
                    summaryTitle.textContent = '👍 Solid Foundation!';
                    summaryText.textContent = `Your website scored ${score}/100 – you're on the right track! With some targeted improvements, you can boost your AI search visibility significantly and outpace competitors.`;
                } else {
                    summaryDiv.classList.add('bad');
                    summaryTitle.textContent = '💪 Let's Level Up!';
                    summaryText.textContent = `Your website scored ${score}/100 – plenty of room to grow! These quick wins can transform your site and skyrocket your AI search presence in no time. You've got this!`;
                }

                // Prioritized action items with color-coded urgency
                const actionItemsDiv = document.getElementById('actionItems');
                actionItemsDiv.innerHTML = '';
                
                // Red/Urgent: Fire Drill Fixes 🔥
                const urgentGroup = document.createElement('div');
                urgentGroup.classList.add('action-group');
                urgentGroup.innerHTML = '<h4 style="color: #dc3545;">Fire Drill Fixes 🔥 (Tackle These First!)</h4><ul><li>Add missing meta descriptions to boost crawlability.</li><li>Fix broken links for better authority.</li></ul>';
                actionItemsDiv.appendChild(urgentGroup);
                
                // Yellow/Important: Quick Wins 🚀
                const importantGroup = document.createElement('div');
                importantGroup.classList.add('action-group');
                importantGroup.innerHTML = '<h4 style="color: #ffc107;">Quick Wins 🚀 (Easy Boosts Ahead!)</h4><ul><li>Optimize headings for stronger content structure.</li><li>Add alt text to images for semantic relevance.</li></ul>';
                actionItemsDiv.appendChild(importantGroup);
                
                // Green/Less Urgent: Polish Points ✨
                const polishGroup = document.createElement('div');
                polishGroup.classList.add('action-group');
                polishGroup.innerHTML = '<h4 style="color: #28a745;">Polish Points ✨ (Fine-Tune for Shine!)</h4><ul><li>Enhance schema markup for AI signals.</li><li>Improve page speed for performance gains.</li></ul>';
                actionItemsDiv.appendChild(polishGroup);

                document.getElementById('planSection').classList.add('hidden');
                document.getElementById('resultsSection').classList.remove('hidden');
                document.getElementById('step3').classList.add('active');
            } catch (error) {
                showError('verifyResult', 'Analysis failed: ' + error.message);
            }
        }

        function tryDifferent() {
            document.getElementById('urlInput').value = '';
            document.getElementById('planSection').classList.add('hidden');
            document.getElementById('verifyResult').innerHTML = '';
            document.getElementById('verifySection').classList.remove('hidden');
        }

        function analyzeAnother() {
            tryDifferent();
            document.getElementById('resultsSection').classList.add('hidden');
            document.getElementById('step2').classList.remove('active');
            document.getElementById('step3').classList.remove('active');
        }

        function refillCredits() {
            credits += 10;
            document.getElementById('credits').textContent = credits;
            document.getElementById('noCreditsSection').classList.add('hidden');
            alert('Credits refilled! (Simulated for MVP)');
        }

        function shareResults() {
            alert('Share functionality coming soon! (MVP simulation)');
        }

        function upgradePro() {
            alert('Upgrade to Pro coming soon! (MVP simulation)');
        }
    </script>
</body>
</html>
