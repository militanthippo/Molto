<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AEO Analyzer - Optimize for AI Search</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&family=Pirata+One&display=swap" rel="stylesheet">
    <!-- CSS enqueued separately via child theme -->
</head>
<body>
    <div class="container">
        <div class="progress-bar" role="navigation" aria-label="Analysis Steps">
            <div class="progress-step">
                <div class="step-circle active" id="step1" aria-current="step">1</div>
                <div class="step-label">Verify Website</div>
            </div>
            <div class="progress-step">
                <div class="step-circle" id="step2">2</div>
                <div class="step-label">Choose Plan</div>
            </div>
            <div class="progress-step">
                <div class="step-circle" id="step3">3</div>
                <div class="step-label">Get Results</div>
            </div>
            <div class="credits-indicator" id="creditsIndicator" aria-live="polite">Credits: 0*</div>
        </div>

        <!-- Step 1: Website Verification -->
        <div class="card section active" id="verificationSection" aria-live="polite">
            <h2 class="section-title" role="heading" aria-level="2">We Need To Verify If Your Site Is Blocked Before You Can Proceed</h2>
            <p class="section-subtitle">Some websites have anti-bot protection that prevents automated analysis. We'll check your site's accessibility first to ensure you get the best experience.</p>
            
            <div class="form-group">
                <label class="form-label" for="websiteUrl">Enter Your Website URL</label>
                <input type="url" class="form-input" id="websiteUrl" placeholder="https://example.com" required aria-required="true" aria-describedby="url-help">
                <small id="url-help" class="form-help">Include http:// or https:// for best results.</small>
            </div>
            
            <button class="btn btn-primary" onclick="checkWebsite()" aria-label="Check Website Compatibility">Check Website Compatibility</button>
            
            <div class="loading hidden" id="checkingLoading" aria-live="assertive">
                <p>Checking website accessibility...</p>
            </div>
        </div>

        <!-- Step 2a: Accessible Site -->
        <div class="card section" id="accessibleSection" aria-live="polite">
            <div class="success-message" role="alert">
                <div class="success-icon">âœ…</div>
                <h3>Great! Your Website Can Be Analyzed</h3>
                <p>Your site is accessible for instant automated analysis</p>
            </div>
            
            <p style="text-align: center; margin-bottom: 30px;">You can proceed with instant analysis:</p>
            
            <div class="pricing-card">
                <h3>Automated Analysis</h3>
                <div class="price">$9.99</div>
                <p class="price-description">Get 10 analysis credits for instant AEO scoring and recommendations</p>
                <button class="btn btn-primary" onclick="purchaseCredits()" aria-label="Purchase Automated Analysis">Get Instant Analysis</button>
            </div>
        </div>

        <!-- Step 2b: Blocked Site -->
        <div class="card section" id="blockedSection" aria-live="polite">
            <div class="blocked-card" role="alert">
                <h3>This website uses advanced security that prevents automated analysis. Choose your preferred option:</h3>
            </div>
            
            <div class="pricing-card">
                <h3>Premium Manual Analysis</h3>
                <div class="price">$49</div>
                <p class="price-description">Expert analysis with detailed PDF report delivered via email within 15-20 minutes</p>
                <button class="btn btn-primary" onclick="purchasePremium()" aria-label="Purchase Premium Analysis">Get Expert Analysis</button>
            </div>
            
            <button class="btn btn-secondary" onclick="goBack()" aria-label="Try Different Website">Try Different Website</button>
        </div>

        <!-- Step 3b: Analysis Results -->
        <div class="card section" id="resultsSection" aria-live="polite">
            <div class="analyzed-domain" role="region" aria-label="Analyzed Website">
                <div class="analyzed-domain-label">Website Analyzed</div>
                <div class="analyzed-domain-value" id="analyzedDomain">--</div>
            </div>
            
            <div class="score-display">
                <div class="overall-score" id="overallScore">--</div>
                <div class="score-label">Overall AEO Score</div>
            </div>
            
            <div class="score-bar-container">
                <div class="score-bar-title">AEO Score Comparison</div>
                <div class="score-bar">
                    <div class="score-marker user-score" id="userScoreMarker" style="left: 50%;">Your Score: --</div>
                </div>
                <div class="score-benchmarks">
                    <div>Poor (0-40)</div>
                    <div>Average: 52</div>
                    <div>Top 10%: 85</div>
                    <div>Excellent (71-100)</div>
                </div>
            </div>
            
            <div class="component-scores" role="region" aria-label="Component Scores">
                <div class="component-score">
                    <div class="component-score-value" id="contentScore">--</div>
                    <div class="component-score-label">Content Structure</div>
                </div>
                <div class="component-score">
                    <div class="component-score-value" id="technicalScore">--</div>
                    <div class="component-score-label">Technical SEO</div>
                </div>
                <div class="component-score">
                    <div class="component-score-value" id="uxScore">--</div>
                    <div class="component-score-label">Authority & AI Signals</div>
                </div>
            </div>
            
            <div class="analysis-summary" role="alert">
                <h3 id="analysisSummaryTitle">ðŸš¨ URGENT BUT ACHIEVABLE!</h3>
                <p>Your website scored <span class="highlight" id="analysisScore">--/100</span>, which means you have <span class="highlight">CRITICAL OPPORTUNITY WINDOWS</span> that could skyrocket your AI search visibility by <span class="highlight">200-400%</span>!</p>
                <p>The good news? These are <span class="highlight">simple fixes</span> that most competitors haven't discovered yet. Implement these recommendations this week and see results within 30 days.</p>
            </div>
            
            <div class="recommendations" role="region" aria-label="Action Items">
                <h3>Prioritized Action Items</h3>
                <div id="recommendationsList">
                    <!-- Recommendations populated by JS -->
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <div class="credits-display" id="creditsDisplay">Credits Remaining: 9</div>
                <button class="btn btn-secondary" onclick="analyzeAnother()" aria-label="Analyze Another Website">Analyze Another Website</button>
            </div>
        </div>

        <!-- Out of Credits Section -->
        <div class="card section" id="outOfCreditsSection" aria-live="polite">
            <h2 class="section-title" role="heading" aria-level="2">ðŸš¨ You're Out of Analysis Credits!</h2>
            <p class="section-subtitle">You've used all your analysis credits. Purchase another package to continue analyzing websites and growing your AI search visibility!</p>
            
            <div class="pricing-card">
                <h3>Refill Credits</h3>
                <div class="price">$9.99</div>
                <p class="price-description">Get 10 more analysis credits</p>
                <button class="btn btn-primary" onclick="purchaseMoreCredits()" aria-label="Buy More Credits">Buy More Credits</button>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <div class="credits-display credits-empty">Credits Remaining: 0</div>
            </div>
        </div>

        <!-- Message Container -->
        <div id="messageContainer" aria-live="assertive"></div>
    </div>

    <!-- JS enqueued separately via child theme -->
</body>
</html>
